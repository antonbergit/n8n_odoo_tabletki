


питання	відповідь
  - Не вказано формат Basic Auth для Tabletki (потрібен username/password або token?)	Потрібен username\password

370
215f1fc3cd24
Чи потрібні додаткові headers (API keys, authorization tokens)?	Обовязковий хедер на будь який запит на tabletki це ContentType-application/json
Жодної складної авторизації не передбачено, просто basic auth
  - Де зберігаються credentials у n8n (environment variables, vault)?	 
  - `branchID:  30639` - це тестовий чи продуктивний ID? 	Тестовий, на даний момент усюди маємо лише тестові креди.
  - Як формується `Code` товару в Odoo?  Це `product. id` чи окреме поле?	Це product_id

  - Яке поле Odoo відповідає за `SupplierCodes. Code` (баркод)?	Так, barcode 
  - Поле `Dr Brand Value ID` - це related field чи computed?  Яка модель?	Це модель prodcut variant,
Це не computed поле. Просто вказується менеджером одо з переліку predefined values
  - "Зміна статусу повинна тригернути запит" - це потребує **webhook** чи **polling**?	Нажаль вебхуки не передбачені.
У взаємодії з tabletki все через polling
  - Чи є в Odoo автоматичний механізм (automated action, server action)?	Ні. І основна ідея цього проекту полягає в тому щоб звести до мінімуму кастомізації на стороні одоо
  - Якщо polling - яка частота перевірки статусів?	Робив згідно api доки таблеткі ,тобто  5хв
  - Скільки спроб повтору при помилках API?	Я не приділив цим питанням уваги. На даний момент все налаштовона згідно дефолтних налаштувань н8н
  - Який timeout для HTTP запитів?	
  - Що робити з частково обробленими батчами?	
  - Поле `kw_np_tracking_document_name` - це кастомне поле модуля Nova Poshta?	так
  - Чи завжди є TTN при статусі "Підтверджено"? 


	Ні, саме тому відправка ттн в таблеткі не привязана до зміни статусу замовлення. А побудована як окремий міні процес
  - Що робити, якщо TTN ще не згенерована?	Нічого, згаданий вище міні процес не тригернеться
  - Чи всі товари мають `taxes_id` для VAT calculation?	так
  - Як обробляти товари з множинними податками?	Брати перший , це взагал не принципове поле
  - Структура поля `order_line` - це Many2many чи One2many?	У замовлення може бути один або багато order_line
Order_line може належати лише одному замовленню(можливо у двох різних замовлень можуть бути ідентичні ордер лайн. Але з точки зору структури даних це два різні ордер лайн з різними order_line_id)
A1 Надайте тестові credentials для:
	Відправлю особистим повідомленням в discuss
A2 Чи є різниця між test та production endpoints для Tabletki?	Так, різниця є
Prod - https://import.tabletki.ua
Продівський branch ID поки не маємо 
Чи потрібна двофакторна автентифікація або IP whitelisting?	Це питання поки не піднімалось. Мабуть воно стане актуальним коли дійде діло до проду
B1 Підтвердіть мапінг полів для **Catalog flow**
	Так все вірно, але щодо taxes_id
Беремо значення(наприклад id 34) а далі хардкод нода яка сетає значення 20(типу 20% податок) на основі id 34
B2 Поле `Dr Brand Value ID`
	Ні це стандартне поле моделі product variant.
dr_brand_value_id
many2one
B3 Для `SupplierCodes.ID`	Це константа
В цілому блок suppliers формується як константа.
(Чому так? Тому що цей блок потрібен мережам аптек , а фудок один інтернет магазин.)
C1.** **Booking flow - створення ордеру:**
	  - Поле `origin` в `sale.order` записується на етапі коли ми питаємо в tabetki чи немає нових букінгів, коли ті відповідають що є ми букінгІД записуємо в поле origin коли створюємо ордер. 
  - Чи потрібно створювати `res. partner` (контакт) або завжди `TABLETKI_PARTNER_ID = 184588`?	В нинішній реалізації partnerID статичний і контакт не створюється. Натомістьв описі завдання окремо викладено нереалізований підхід при якому буде створюватись контакт.
7.1 Специфікація та моделювання вимог.Створення контакту
  - Що робити з полем `customer` (ім'я клієнта з Tabletki)?	
C2.** **Trigger на зміну статусу:**	Це питання стосуються флоу Самовивіз, який ще не реалізовано. Відповідно щоб на них відповісти треба почати реалізацію і визначити як краще. Тобто питання відкриті.
**C3.** **48 годин для самовивозу:**	
**D1.** **Stock & Prices flow:**	`Qty available > 0`.
Таблеткі не приймають значення 0( або відємні)

**D2.** **Часткове підтвердження (TC-02):**	Часткове підтвердження це фактично і є звичайне підтвердження. Просто в таблеткі відправляємо змінені позиції(змінено кількість, видалено чи добавлено товар ітп.) відповідно з точки зору флоу Часткове підтвердження не є якиймось окремим підпроцесом який хоч якось би відрізнявся від звичайного підтвердження
**D3.** **Відмова замовлення:**	Оскільки працюємо над проектов в форматі MVP,
То в  нинішній реалізації CancelReason не відправляю оскільки це не мандаторі поле.
 
Лише статус ID 7 і все. 
**D4.** **TTN обробка:**   - Чи можлива ситуація, коли TTN змінюється після відправки?	Не тестував в достатній мірі, по ідеї ні.

D4 -  Чи потрібен механізм дедуплікації (не відправляти той самий TTN двічі)?	Думаю так. 
Я цього не покрив. Можливо 
Блок Е	Не компетентний відповісти на питання цього блоку
F1	Так. Є 11 товарів створених в тестовій одоо з якими можна працювати в контексті вже розроблених флоу
 
Щодо нерозроблених флоу - по ідеї ці самі 11 товарів можуть бути перевикористані
**F2.** Критерії acceptance для кожного флоу - 
   - JSON payload для тестового товару (Catalog)
	Так. Можу вислати файл особистим повідоленням в discuss
  - Приклад відповіді Tabletki з помилкою


	Надаль їх тестове середовище цього не передбачає. Що б не відправив - завжди буде success
  - Тестове замовлення з частковим підтвердженням	В цьому немає потреби оскільки немає такого поняття як часткове підтвердження

